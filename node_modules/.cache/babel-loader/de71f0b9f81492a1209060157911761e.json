{"ast":null,"code":"import _regeneratorRuntime from\"E:/NewsOpia/NewsOpia/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/NewsOpia/NewsOpia/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"E:/NewsOpia/NewsOpia/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"E:/NewsOpia/NewsOpia/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"E:/NewsOpia/NewsOpia/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"E:/NewsOpia/NewsOpia/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import NewsItem from'./NewsItem';import PreLoader from'./PreLoader';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var News=/*#__PURE__*/function(_Component){_inherits(News,_Component);var _super=_createSuper(News);function News(){var _this;_classCallCheck(this,News);_this=_super.call(this);_this.article=[];_this.handleNext=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({page:_this.state.page+1});_this.Update();case 2:case\"end\":return _context.stop();}}},_callee);}));_this.handlePrev=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.setState({page:_this.state.page-1});_this.Update();case 2:case\"end\":return _context2.stop();}}},_callee2);}));_this.ToCapitalize=function(category){return category.charAt(0).toUpperCase()+category.slice(1);};_this.state={article:_this.article,PreLoader:false,page:1};return _this;}_createClass(News,[{key:\"Update\",value:function(){var _Update=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var Url,data,parse;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:Url=\"https://newsapi.org/v2/top-headlines?category=\".concat(this.props.category,\"&country=in&apiKey=ff149229124d4bf6b7a5965f6ad30cef&page=\").concat(this.state.page);this.setState({PreLoader:true});_context3.next=4;return fetch(Url);case 4:data=_context3.sent;_context3.next=7;return data.json();case 7:parse=_context3.sent;this.setState({article:parse.articles,totalResults:parse.totalResults,PreLoader:false});case 9:case\"end\":return _context3.stop();}}},_callee3,this);}));function Update(){return _Update.apply(this,arguments);}return Update;}()},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:this.Update();case 1:case\"end\":return _context4.stop();}}},_callee4,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center\",children:[\"Top Headlines-\",this.ToCapitalize(this.props.category)]}),this.state.PreLoader&&/*#__PURE__*/_jsx(PreLoader,{}),/*#__PURE__*/_jsx(\"div\",{className:\"row row-cols-md-3 g-3 m-3\",children:this.state.article.map(function(ele){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(NewsItem,{title:ele.title===null?'':ele.title.slice(0,45),description:ele.description==null?'':ele.description,xurl:ele.url,imageUrl:ele.urlToImage===null?\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS6wHc3OzKebPw9iQ9NMcjKRHSxIFKN2Ds2LQ&usqp=CAU\":ele.urlToImage,publishedAt:ele.publishedAt,author:ele.author,srcname:ele.source.name})},ele.url);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container d-flex justify-content-around my-3\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:this.state.page<=1,type:\"button\",className:\"btn btn-dark my-3\",onClick:this.handlePrev,children:\" \\u2190 Previous\"}),/*#__PURE__*/_jsx(\"button\",{disabled:this.state.page+1>Math.ceil(this.state.totalResults/20),type:\"button\",className:\"btn btn-dark my-3\",onClick:this.handleNext,children:\" Next \\u2192\"})]})]});}}]);return News;}(Component);News.defaultProps={category:\"general\"};export{News as default};","map":{"version":3,"sources":["E:/NewsOpia/NewsOpia/src/components/News.js"],"names":["React","Component","NewsItem","PreLoader","News","article","handleNext","setState","page","state","Update","handlePrev","ToCapitalize","category","charAt","toUpperCase","slice","Url","props","fetch","data","json","parse","articles","totalResults","map","ele","title","description","url","urlToImage","publishedAt","author","source","name","Math","ceil","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport NewsItem from './NewsItem'\r\nimport PreLoader from './PreLoader';\r\nimport PropTypes from 'prop-types'\r\n\r\nexport default class News extends Component {\r\n    static defaultProps = { category: \"general\" }\r\n    static propTypes = { category: PropTypes.string }\r\n    article = [];\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            article: this.article,\r\n            PreLoader: false,\r\n            page: 1\r\n        }\r\n    }\r\n    async Update() {\r\n        let Url = `https://newsapi.org/v2/top-headlines?category=${this.props.category}&country=in&apiKey=ff149229124d4bf6b7a5965f6ad30cef&page=${this.state.page}`;\r\n        this.setState({ PreLoader: true });\r\n        let data = await fetch(Url);\r\n        let parse = await data.json();\r\n        this.setState({\r\n            article: parse.articles,\r\n            totalResults: parse.totalResults,\r\n            PreLoader: false\r\n        });\r\n    }\r\n    async componentDidMount() {\r\n        this.Update();\r\n    }\r\n    handleNext = async () => {\r\n        this.setState({\r\n            page: this.state.page + 1,\r\n        });\r\n        this.Update();\r\n    }\r\n    handlePrev = async () => {\r\n        this.setState({\r\n            page: this.state.page - 1,\r\n        });\r\n        this.Update();\r\n\r\n    }\r\n    ToCapitalize = (category) => {\r\n        return category.charAt(0).toUpperCase() + category.slice(1);\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n                <h1 className=\"text-center\">Top Headlines-{this.ToCapitalize(this.props.category)}</h1>\r\n                {this.state.PreLoader && <PreLoader />}\r\n                <div className=\"row row-cols-md-3 g-3 m-3\">\r\n                    {\r\n                        this.state.article.map((ele) => {\r\n                            return <div key={ele.url}>\r\n                                <NewsItem title={ele.title === null ? '' : ele.title.slice(0, 45)} description={ele.description == null ? '' : ele.description} xurl={ele.url} imageUrl={ele.urlToImage === null ? \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS6wHc3OzKebPw9iQ9NMcjKRHSxIFKN2Ds2LQ&usqp=CAU\" : ele.urlToImage} publishedAt={ele.publishedAt} author={ele.author} srcname={ele.source.name} />\r\n                            </div>\r\n                        })\r\n                    }\r\n                </div>\r\n                <div className=\"container d-flex justify-content-around my-3\">\r\n                    <button disabled={this.state.page <= 1} type=\"button\" className=\"btn btn-dark my-3\" onClick={this.handlePrev}> &larr; Previous</button>\r\n                    <button disabled={this.state.page + 1 > Math.ceil(this.state.totalResults / 20)} type=\"button\" className=\"btn btn-dark my-3\" onClick={this.handleNext}> Next &rarr;</button>\r\n                </div>\r\n            </>\r\n        )\r\n\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}